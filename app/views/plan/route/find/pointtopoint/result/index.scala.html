@(
user: models.auth.User,
token: String,
model: controllers.plan.route.find.result.ResultViewModel,
messages: List[String]
)(implicit request: Request[AnyContent])

@templates.main("Route Finder", "Plan",  Some(user)){


    <style>
        td {
            padding: 0px;
        }

        .route-td {
            background-image: url("/assets/images/line.svg");
            background-size: 32px;
            background-repeat: repeat-y;
        }
        button {
            display: block;
        }
        td div {
            display: block;
        }


    </style>



        @if(messages.size > 0){
        <div class="alert alert-primary">
            <h2>Messages</h2>
            <ul>
                @for(message <- messages){
                <li>@message</li>
                }
            </ul>
        </div>
        }

<div class="row">
  <div class="col col-sm">
        @templates.route.find.result.summary(
            model.waypoints,
            model.manuallyCreated,
            model.jsonCreated,
            model.timetableCreated,
            model.editCall,
            model.distance,
            model.time,
            model.followFixedLinks,
            model.followFreightLinks,
            model.followUnknownLinks,
            model.timetableTrainUid,
            model.date,
            model.timetableTrainOrigin,
            model.timetableTrainDestination)
  </div>
</div>
<div class="row">
    <div class="col col-sm">
        <div class="card card-body">
            <h3>Quick Visit</h3>
            @templates.route.find.result.quickVisit(
                model.waypoints,
                model.visitCall,
                model.visitMode,
                model.fromLocationIndex,
                model.toLocationIndex,
                model.followFixedLinks,
                model.followFreightLinks,
                model.followUnknownLinks,
                model.includeNonPublicStops,
                model.overrideDateAndTimeOfVisit,
                model.overriddenStartDate,
                model.overriddenStartTime,
                model.overrideVisitDetails,
                model.overriddenVisitName,
                model.overriddenTrainUid,
                model.overriddenTrainHeadcode)

        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm">
        <div class="card card-body">
            <a id="map-container"/>
            <h4>Map of route</h4>
            @templates.map.map(model.locationsList, model.routeList)
        </div>
    </div>
</div>

<div class="row">
    <div class="col col-sm">
        <div class="card card-body">
            @templates.route.find.result.routeList(model.waypoints, model.locationsToVisit, model.routesToVisit, model.routeList, token)
        </div>
    </div>
</div>



}